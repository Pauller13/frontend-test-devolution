<!-- Cards de statistiques -->
<div class="mat-elevation-z4" style="display: flex; justify-content: space-between; padding: 20px;">
  <mat-card class="custom-card">
    <mat-card-header>
      <mat-card-title>Nombre Total de simulation</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <h2 class="card-value">{{num_simulations}}</h2>
    </mat-card-content>
  </mat-card>

  <mat-card class="custom-card">
    <mat-card-header>
      <mat-card-title>Nombre de subscriptions</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <h2 class="card-value">{{num_subscriptions}}</h2>
    </mat-card-content>
  </mat-card>
</div>

<div>
  <h2>Gestion des subscriptions par produit</h2>
</div>
<div class="mat-elevation-z4" style="display: flex; justify-content: space-between; padding: 20px;">
  <mat-card class="custom-card" >
    <mat-card-header>
      <mat-card-title>Nombre de subscriptions a papillion</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <h2 class="card-value">{{num_subscriptions_papillon}}</h2>
    </mat-card-content>
  </mat-card>

  <mat-card class="custom-card" >
    <mat-card-header>
      <mat-card-title>Nombre de subscriptions a douby</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <h2 class="card-value">{{num_subscriptions_douby}}</h2>
    </mat-card-content>
  </mat-card>


  <mat-card class="custom-card" >
    <mat-card-header>
      <mat-card-title>Nombre de subscriptions a douyou</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <h2 class="card-value">{{num_subscriptions_douyou}}</h2>
    </mat-card-content>
  </mat-card>

  <mat-card class="custom-card" >
    <mat-card-header>
      <mat-card-title>Nombre de subscriptions a toutourisquou</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <h2 class="card-value">{{num_subscriptions_toutourisquou}}</h2>
    </mat-card-content>
  </mat-card>
</div>

<!-- Gestion des souscriptions -->
<div>
  <h2>Gestion des souscriptions par utilisateur</h2>
</div>
<div *ngIf="num_subscriptions_by_user && num_subscriptions_by_user.length">
  <h3>Nombre de souscriptions par utilisateur</h3>
  <table class="table">
    <thead>
      <tr>
        <th>Utilisateur</th>
        <th>Nombre de souscriptions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of num_subscriptions_by_user">
        <td>{{ item.user }}</td>
        <td>{{ item.count }}</td>
      </tr>
    </tbody>
  </table>
</div>

<div *ngIf="!num_subscriptions_by_user || num_subscriptions_by_user.length === 0">
  <p>Aucune souscription trouvée.</p>
</div>

<div>
  <h2>Gestion des souscriptions par mois</h2>
</div>

<div *ngIf="num_subscriptions_by_month && num_subscriptions_by_month.length">
  <h3>Nombre de souscriptions par mois</h3>
  <table class="table">
    <thead>
      <tr>
        <th>Mois</th>
        <th>Nombre de souscriptions</th>
      </tr>
    </thead>
    <tbody>
      <!-- Itérer sur le tableau num_subscriptions_by_month -->
      <tr *ngFor="let item of num_subscriptions_by_month">
        <td>{{ item.monthYear | date:'MMMM yyyy' }}</td> <!-- Afficher le mois (année-mois) -->
        <td>{{ item.count }}</td> <!-- Afficher le nombre de souscriptions -->
      </tr>
    </tbody>
  </table>
</div>

<div *ngIf="!num_subscriptions_by_month || num_subscriptions_by_month.length === 0">
  <p>Aucune souscription trouvée.</p>
</div>

